import 'package:flutter/material.dart';
{% if 'intl' in options.imports or 'DateFormat' in handlers_code %}
import 'package:intl/intl.dart';
{% endif %}

{% set is_stateful = options.is_stateful | default(true) %}
{% set force_min_height = options.force_min_height | default(false) %}

class {{ class_name }} extends {% if is_stateful %}StatefulWidget{% else %}StatelessWidget{% endif %} {
  const {{ class_name }}({super.key});

  {% if is_stateful %}
  @override
  State<{{ class_name }}> createState() => _{{ class_name }}State();
}

class _{{ class_name }}State extends State<{{ class_name }}> {
  {% for c in controllers %}
  final TextEditingController {{ c }} = TextEditingController();
  {% endfor %}

  @override
  void dispose() {
    {% for c in controllers %}
    {{ c }}.dispose();
    {% endfor %}
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    final content = {{ widget_tree }};
    final body = {% if force_min_height %}ConstrainedBox(
      constraints: BoxConstraints(
        minHeight: MediaQuery.of(context).size.height,
      ),
      child: content,
    ){% else %}content{% endif %};
    return Scaffold(
      backgroundColor: Colors.white,
      body: SafeArea(
        child: SingleChildScrollView(
          child: body,
        ),
      ),
    );
  }
}
  {% else %}

  @override
  Widget build(BuildContext context) {
    final content = {{ widget_tree }};
    final body = {% if force_min_height %}ConstrainedBox(
      constraints: BoxConstraints(
        minHeight: MediaQuery.of(context).size.height,
      ),
      child: content,
    ){% else %}content{% endif %};
    return Scaffold(
      backgroundColor: Colors.white,
      body: SafeArea(
        child: SingleChildScrollView(
          child: body,
        ),
      ),
    );
  }
}
  {% endif %}

{{ handlers_code }}
